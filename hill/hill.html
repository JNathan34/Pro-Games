<!-- Ultimate Game Stash file--> 
<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->

<!DOCTYPE html>
<html lang="en">
<head>
  <base href="https://cdn.jsdelivr.net/gh/bubbls/youtube-playables@ed57fd6dbc91143221b05fdf61be73bacc375843/hill-climb-racing-lite/">
	<meta charset="ut-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, minimal-ui, shrink-to-fit=no">
	<meta name="mobile-web-app-capable" content="yes">
	<script src="https://cdn.jsdelivr.net/gh/bubbls/youtube-playables@main/ytgame.js" nonce="TPIafyWGMIB2_8Gk5HFfiA"></script>

	<!-- Store values in a hidden div or data attributes -->
	<div id="engine-config"
	   data-engine-arguments="--verify-graphics-calls=false,"
	   data-custom-heap-size="33554432"
	   data-exe-name="HCRLite"
	   data-display-width="470"
	   data-display-height="836"></div>

	<script src="loader.js" nonce="TPIafyWGMIB2_8Gk5HFfiA"></script>
	<script src="yt-functions.js" nonce="TPIafyWGMIB2_8Gk5HFfiA"></script>

	<title>HCR Lite 1.0</title>

	<style type='text/css'>
	body {
		position: fixed;
		margin:0;
		padding:0;
	}

	.canvas-app-container {
		width: 100%;
		height: 100%;
		position: absolute;
		align-items: center;
		justify-content: center;
		overflow: hidden;
	}

	.canvas-app-container:-webkit-full-screen {
		width: auto;
		height: auto;
	}

	#canvas {
		outline: none;
		border: 0;
		width: 100%;
		vertical-align: bottom;
	}

	#canvas-container {
		position: relative;
	}

	canvas:focus, canvas:active {
		outline: none;
		border: 0;
		ie-dummy: expression(this.hideFocus=true);
		-moz-outline-style: none;
	}

	div {
		-webkit-tap-highlight-color: rgba(0,0,0,0);
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

	/* TIMER CSS */
	#sessionTimer {
	  position: fixed;
	  top: 20px;
	  right: 20px;
	  background: rgba(0, 255, 153, 0.85);
	  color: #000;
	  padding: 8px 12px;
	  font-size: 16px;
	  font-weight: bold;
	  border-radius: 8px;
	  z-index: 999999;
	  font-family: Arial, sans-serif;
	}
	</style>
</head>

<body>

	<!-- TIMER DISPLAY -->
	<div id="sessionTimer">Session: 60:00</div>

	<div id="app-container" class="canvas-app-container">
		<div id="canvas-container" class="canvas-app-canvas-container">
			<canvas id="canvas" class="canvas-app-canvas" tabindex="1" width="470" height="836"></canvas>
		</div>
	</div>

	<!-- TIMER SCRIPT -->
	<script>
	const countdownEl = document.getElementById("sessionTimer");

	function logout() {
		localStorage.removeItem("authenticated");
		localStorage.removeItem("authExpires");
		window.location.href = "index.html";
	}

	function updateTimer() {
		const expires = parseInt(localStorage.getItem("authExpires"), 10);
		const auth = localStorage.getItem("authenticated");

		if (!auth || !expires) {
			logout();
			return;
		}

		const now = Date.now();

		if (now > expires) {
			logout();
			return;
		}

		const remaining = expires - now;
		const minutes = Math.floor(remaining / 1000 / 60);
		const seconds = Math.floor((remaining / 1000) % 60);

		countdownEl.textContent =
			`Session: ${minutes.toString().padStart(2,'0')}:` +
			`${seconds.toString().padStart(2,'0')}`;
	}

	setInterval(updateTimer, 1000);
	updateTimer();
	</script>

</body>
</html>
